# Loop Controller Subsystem
The purpose of the Loop Controller is to be able to monitor the change in frequency from the inductive loops placed in designated entrances/exits and determine whether a car/pickup truck has passed over the loops.  Once a vehicle is detected, the change in frequency received from the loops will be sent to the ESP32 Microcontroller of the Data Interpretation Subsystem where the count of how many cars/pickup trucks are in the specific parking lot will either increase or decrease, depending on the direction of the car/pickup truck.

# Constraints
| No. | Constraints | Origin |
| --- | ----------- | ------ |
| 1.  | Subsystem shall detect cars/pickup trucks (vehicles) that are entering and exiting a parking lot | System Requirements |
| 2.  | Vehicle detector shall be compliant with the FCC frequency range for Intentional Radiators and verifying the detector is within permissible part 15 frequencies.  | FCC Standard Title 47, Chapter I, Subchapter A, Section 15.202     |
| 3.  | Each entrance/exit of a parking lot shall use a total of one loop controller that will control the two inductive loops at the entrance/exit. | System Requirements |
| 4.  | The Loop Controller shall be connected to the ESP32 Microcontroller that is used with the Data system of the project to communicate a change in frequency in one of the loops and determine whether a vehicle is entering or exiting a parking lot. | System Requirements |

1. For this controller to satisfy the requirements of the project, the Loop Controller must be able to detect changes in frequency that are caused by a vehicle either entering or exiting a parking lot.  Since this Loop Controller is part of a proof of concept, the main focus of the controller is to be able to detect vehicle motion.  With two inductive loops being placed at each designated entrance/exit (found in the Ground Based Sensor Subsystem .md file in this repository), one loop will have a notable change in frequency followed by the second inductive loop experiencing the same change.  By determining the placement of the loops (one being located closer to the road and the other being closer to the parking lot), the direction of the vehicle can be determined and the information will be transmitted to the Data system where the number of available parking spots will either increase or decrease, depending on the direction of the vehicle.

2. For the original design of the Loop Controller to work in the United States, it must follow FCC regulations, particularly regulations regarding Intentional Radiators.  Due to the device operating in the frequency range of 20 kHz - 145 kHz, the device does not require a license to operate as it is part of the unlicensed Part 15 bands, mainly used by hobbyists in communication.  With this device being within the permissible Part 15 bands, vehicles will not be affected by the frequency output from the loops that is generated by the Loop Controller.

3. For the Dual Loop Controller to function properly, it must be capable of operating both inductive loops at a designated entrance/exit.  The Loop Controller must be able to detect when a vehicle passes over one of the loops and determine the direction of the vehicle based on which loop experiences a change in frequency first followed by the other loop experiencing a change in frequency.  As an example, in order to monitor the Engineering Quad parking lot (parking lot between the four buildings for the College of Engineering), two sets consisting of two loops each and one detector each will be used to monitor the two designated entrances/exits of the parking lot.

4. For the original design of the Dual Loop Controller (found in the first reference under Reference section), a pre-programmed PIC16F1939-I/PT microchip was used to control the device.  Due to both the complexity of the microchip and the pre-programmed version being out of stock, the controller will be connected to the ESP32 Microcontroller used for the Data system and be programmed by the team to detect changes in frequency in the inductive loops and determine if the vehicle is entering or exiting the parking lot.  By using the ESP32 Microcontroller, it removes the necessity of having to purchase another microcontroller that is specific to this device only and it utilizes unused pins on the ESP32 Microcontroller that is already purchased for the Data system.  Though it adds more programming to the ESP32, it allows the team to program on a microcontroller in a programming language (C/C++) that the team has prior experience with in previous courses and/or internships.

# Buildable Schematic
![Step Down from 9V to 5V](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/93b631e5-14f0-4459-82f4-954723526c5d)

*Voltage Step Down from 9V to 5V*

![Loop OSC before Loops](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/1316c1ce-a4ec-4b09-bacc-f14fbafb8b75)

*Loop OSC Circuit*

![Multiplexer](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/a0bcb837-4b9d-4baf-bef7-1b3136bb9f27)


*Multiplexer Circuit*

![Allows for Choosing Alternative Frequency](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/6b2f09ac-75b8-47db-a5c3-178c9a5b2be8)


*Function to Change the Frequency in the Loops*

![Comparator Circuit](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/5150e01b-7e1e-4e08-814f-283a762b43a6)

*Comparator Circuit*

![DIP Switches for Sensitivity Detection Adjustment](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/0fd62ddb-6727-4f9d-afea-6e26cd7781cd)

*DIP Switch for the Specific Software Parameter in the Loop Controller*

![Entire Loop Controller Circuit](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/4ece5f31-7fd4-4ebf-bd4b-5eb371ed32cf)

*Loop Controller Circuit*

![Loop Controller PCB Design](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/1bc7910a-cc5b-4d6c-9198-c0fc6247e933)

*PCB Design for the Loop Controller*

![3D Model of PCB](https://github.com/Brady-Beecham/Capstone-Team-PowerHouse/assets/142754780/581850e6-cb2f-4587-bb69-55a129531240)

*3D Model of the Loop Controller PCB*


# Analysis

When deciding the Loop Controller to use for the Parking Lot Monitoring System project, the team discovered a Dual Loop Controller that could be built by the team instead of being pre-fabricated by a company [1].  Upon further discovery of important components being out of stock, such as the pre-programmed microchip necessary to control the loop detector, the team made the decision to redesign the controller to fit the needs of the team and remove unneccesary components that would not be beneficial to the redesigned loop controller.  Instead of relying upon the pre-programmed microchip, the loop controller will be connected to the ESP32 MCU of the Data Interpretation Subsystem and the change in frequency from the inductive loops will be monitored by the ESP32 MCU to determine whether a car/pickup truck has passed over the inductive loops.  If this is true, then the count of how many cars/pickup trucks in a specific parking lot will either increase or decrease based on the information received from the inductive loops.

## Voltage Step Down from 9V to 5V

For the Loop Controller to function properly, the input voltage and current that will received from the Power Controller will be +9V at 50 mA.  From both the user manual and the website of the Dual Loop Controller, the voltage range is from 7 - 40 VDC or 5 - 28 VAC with a current consumption average of 35 mA.  After updating the designs to fit the specific needs of using only DC voltage/current, the connections necessary to convert AC input power to DC power were removed and a LM78M05CDT/NOPB voltage regulator with specific capacitors were placed to lower the voltage rating from 9V to 5V.  By using the voltage regulator to step down to 5V, this allows for both the oscillator and the comparator to have a more stable voltage.  In the schematic image, there is a 10 &mu;H inductor labeled as L1 in the voltage step down.  This inductor was previously used to separate the voltage input of the original microcontroller from the comparator.  However, to avoid future issues that may result from not separating the voltage input of the loop oscillator from the voltage input of the comparator, the 10 &mu;H inductor will continue to be used in this design so the comparator works properly and the controller does not have to be redesigned to include the inductor.

## Loop OSC before Loops

For the Loop Oscillator Circuit, it is a crucial part of the Loop Controller as it generates a stable oscillation from the 5VDC supplied from the voltage regulator.  By using the 10 &mu;H inductor in series with the Loop Oscillator (as seen in LTSpice Simulation after Inductor), the inductor creates a sinewave that increases in amplitude after 50 milliseconds and reaches maximum amplitude after 200 milliseconds.  When testing the emitter pin of the BC857 PNP transistor (which is connected to the PNP transistors of the Multiplexer circuit), the oscillations are more stable and have a maximum amplitude of around 5.3 V (as noted in LTSpice Simulation of Sinewave Oscillation).  Due to the use of both resistors and capacitors, the oscillations for the voltage input is more stable and provides a more stable signal that will then be distributed throughout the Multiplexer Circuit.  This signal will ultimately be sent to the inductive loops that are used for vehicle (car/pickup truck) detection.


## Multiplexer Circuit

After the oscillator circuit generates the oscillation, the signal is then sent to both Loop A and Loop B.  For each loop, there are two sets of two BC557 transistors with two of the four PNP transistors creating a positive half-wave signal of the oscillator signal and the other two PNP transistors creating a negative half-wave signal of the oscillator signal that is received from the oscillator circuit.  For the four sets of two PNP transistors that will be used to generate the positive and negative half-wave signals of the oscillator signal, the base pin will be connected in parallel to the 1 kΩ resistor that is connected to the output connection points labeled Loop 1A, Loop 1B, Loop 2A, Loop 2B.  For the PNP transistor responsible for creating the positive half-wave signal, the current will flow from pin 1 (emitter pin) to pin 2 (base pin) and out of pin 3 (collector pin).  For the PNP transistor responsible for creating the negative half-wave signal, the current will flow the opposite direction of the previous transistor and enter pin 3 and exit pin 1.  However, pin 1 of the transistor will also be connected to the 1 kΩ resistor.  The schematic image labeled "To connect the outputs labeled "Loop 1A, Loop 1B, etc." to the circuit, the two transistors that create both parts of the sine wave, the transistors will be connected in parallel and two transistors used for Loop 1B will be connected to pin 6 (secondary transformer) of the first 78602/16JC transformer while the two transistors for Loop 1A will be connected to pin 5 (or the center tap of the secondary transformer) will be connected to the same 78602/16JC transformer.  By using the transformer, this allowed for each channel to have an additional multiplexer (this is the reason for having Loop 1A, Loop 1B, etc. instead of having solely Loop A and Loop B) to allow for each channel to have an alternative oscillator frequency provided to them (The image of the schematic drawing for the transformer is shown in "Function to Change the Frequency in the Loops").  Now that the oscillator signal is set correctly in the multiplexer circuit, the comparator circuit will be used to determine when the sine wave is positive and when it is negative in reference to the symbol "GNDA".

## Comparator Circuit

For the comparator circuit, the operational amplifier (op-amp) is used to amplify the signal greatly to allow for easier reading of the information sent from the output of the op-amp to the connection point labeled "OSC Out".  The purpose of the "OSC Out" connection is to count the pulse coming in order to detect the change in frequency of oscillation and determine if a car/pickup truck has passed over the inductive loop.  By comparing the frequency of the OSC Out connection to the frequencies of Loop 1A, Loop 1B, etc. connection points, it is possible to determine to determine the direction of the vehicle and whether it is entering or leaving a specific parking lot.  This information will then be used to either increase the count or decrease the count of the number of available parking spots in a specific parking lot.

The BC546 NPN transistor that is placed after the output of the op-amp was originally used to separate the voltage of the comparator from the voltage of the original microchip.  As mentioned in the section labeled "Voltage Step Down from 9V to 5V", the NPN transistor will be included in the updated design to avoid possible issues that are related to voltage stability.

## Loop Controller Circuit

As seen in the schematic drawing for the entire circuit, some components of the circuit are connected to a point labeled "GNDA".  Then, GNDA is connected to a central point where two capacitors and TL431BSA-7 voltage regulator are connected in parallel to each other and then connected to the ground connection.  As mentioned in previous sections, some of the components require voltage stability for different reasons.  The main purpose is to stabilize the voltage entering the numerous components and also to prevent frequency ripple from affecting the results of the circuit.  If the results are affected negatively due to the voltage not being stabilized, then incorrect results will be produced and ultimately lead to incorrect readings from the loops.  This will lead to inaccurate counts of the number of cars/pickup trucks in a specific parking lot.

## DIP Switches

The DIP switches are read by the microcontroller using a different method than the referenced Dual Loop Controller design to reduce the number of GPIOs and ICs that are used. Instead of having one GPIO per switch (8 GPIOs total) and multiplexing between two different eight-switch DIP switch modules, this design will use a single eight-switch DIP switch module and reduce the number of GPIOs used down to two. To accomplish this, two R-2R ladder DACs will be used. The eight switches are split in half into a pair of four switches to read them more accurately. Splitting up the switches allows for wider margins in the voltage generated by the R-2R ladder DAC circuit. If the switches were not split, the step size would be about 0.013V. This is hard to detect with the ESP32's ADC as it is slightly nonlinear. However, by using two GPIOs instead of one and splitting up the switches into a pair of nibbles, the step size of each nibble for each discrete switch value is 0.21V. This is much more reasonable for the ESP32's ADC to read and should result in more accurate readings compared to all eight switches on a single R-2R ladder DAC.

The DIP switches will be used to quickly set any software parameter specified in the source code. This could be anything, for example, sensitivity or different modes of operation. This feature is included for convenience. With the DIP switches, parameters can be changed quickly without having to alter the source code and then re-upload the code to the ESP32.

Every permutation of the switches corresponds to a distinct voltage output. The relationship can be described by the following equation: $$V_o = (V_A + 2V_B + 4V_C + 8V_D)/16$$
Where $V_A$ is the least significant bit and $V_D$ is the most significant bit.


## PCB Design of the Loop Controller Circuit

For the PCB Design of the Loop Controller, a variety of terminal blocks with screw connections and THT connection points are used to connect the Loop Controller to the inductive loops, the ESP32 Microcontroller, and the power supply.  

For the 9V power supply and the inductive loop connections, they will be installed and removed often during the building and testing phases of the project.  Due to this, it is simpler and more effective to connect the loops and power supply using fixed terminal blocks with screws as it is simple to install and remove while also allowing for secure connections to the Loop Controller.  If the wires that are used for the loops and power supply were soldered to the PCB board, the wires would slowly deteriorate over time due to the constant heat being applied from the soldering iron.

For the connection points labeled Loop 1A, Loop 1B, Loop 2A, Loop 2B, OSC Out, Nibble0_Out, and Nibble1_Out, they will be connected to the ESP32 Microcontroller through jumper wires with one end connected to the microcontroller with a female connection and the other end soldered to the Loop Controller.  By connecting the ESP32 to the Loop Controller with wires containing a female connection at the ESP32 end, the microcontroller can be safely connected and removed from the Loop Controller without having to solder or desolder the ESP32 numerous times during the building and testing phases of the project.  By soldering wires to the Loop Controller, the wires will already be provided and removes the step of having to connect the microcontroller to the Loop Controller.



# BOM
| Part | Part Number | Quantity | Price Per Unit | Total Price |
| ------------ | ------------- | --------- | -------- | ---------- |
| L3, L4                                      | 78602/16C          | 2  | $1.57  | $3.14   | https://www.digikey.com/en/products/detail/murata-power-solutions-inc/78602-16C/3438635                                                                                                                                                                                                                                                                                                                                                                                                        | TRANSFORMER                   |
| J1                                          | 1711026            | 1  | $2.02  | $2.02   | https://www.mouser.com/ProductDetail/Phoenix-Contact/1711026?qs=JcjeNNoqGSMahJ%2FDM5awSg%3D%3D                                                                                                                                                                                                                                                                                                                                                                                                 | Phoenix Fixed Terminal Block  |
| J2                                          | 1905201            | 1  | $4.55  | $4.55   | https://www.mouser.com/ProductDetail/Phoenix-Contact/1905201?qs=RdtoZj9ypxYhpXzDh06fzg%3D%3D                                                                                                                                                                                                                                                                                                                                                                                                   | Phoenix Fixed Terminal Block  |
| R12                                         | CFR-25JB-52-100K   | 1  | $0.10  | $0.10   | https://www.digikey.com/en/products/detail/yageo/CFR-25JB-52-100K/245                                                                                                                                                                                                                                                                                                                                                                                                                          | RESISTOR                      |
| C4, C7, C10, C11                            | C322C104K5R5TA     | 4  | $0.31  | $1.24   | https://www.digikey.com/en/products/detail/kemet/C322C104K5R5TA/818105?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-818105_sig-Cj0KCQiAhomtBhDgARIsABcaYymN7dXzS6h5VqWNfEClyoxrpMbFvAVj2zEdHcJOwdzWCUXoEarduU0aAgP2EALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYymN7dXzS6h5VqWNfEClyoxrpMbFvAVj2zEdHcJOwdzWCUXoEarduU0aAgP2EALw_wcB         | CAPACITOR                     |
| C3, C6, C13                                 | RSRC2101M1ED07119T | 3  | $0.24  | $0.72   | https://www.mouser.com/ProductDetail/Elna/RSRC2101M1ED07119T?qs=sGAEpiMZZMvwFf0viD3Y3bXvgfG2gej7W2%252BR27qvEPEYzqaE5thQtg%3D%3D                                                                                                                                                                                                                                                                                                                                                               | POLARIZED CAPACITOR           |
| R11                                         | CFR-25JB-52-10K    | 1  | $0.10  | $0.10   | https://www.digikey.com/en/products/detail/yageo/CFR-25JB-52-10K/338                                                                                                                                                                                                                                                                                                                                                                                                                           | RESISTOR                      |
| C12                                         | C322C104M1R5TA     | 1  | $0.47  | $0.47   | https://www.digikey.com/en/products/detail/kemet/C322C104M1R5TA/3726060?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-3726060_sig-Cj0KCQiAhomtBhDgARIsABcaYykD9GWFC8YvY6ZYWR4qkqoaDMQ997HP2VrBMZ-ECe0rRi-mflwunv4aAt7vEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYykD9GWFC8YvY6ZYWR4qkqoaDMQ997HP2VrBMZ-ECe0rRi-mflwunv4aAt7vEALw_wcB       | CAPACITOR                     |
| L1                                          | 22R103C            | 1  | $0.59  | $0.59   | https://www.digikey.com/en/products/detail/murata-power-solutions-inc/22R103C/1924771                                                                                                                                                                                                                                                                                                                                                                                                          | POWER INDUCTORS SMD CR Series |
| R1                                          | MFR-25FTE52-1M8    | 1  | $0.15  | $0.15   | https://www.digikey.com/en/products/detail/yageo/MFR-25FTE52-1M8/16673936?utm_adgroup=Yageo&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Supplier_Yageo&utm_term=&utm_content=Yageo&utm_id=go_cmp-17816160916_adg-_ad-__dev-c_ext-_prd-16673936_sig-Cj0KCQiAhomtBhDgARIsABcaYylv167MN8BGjl81KhU8q7Le0Fb45cEXf7AHT3ISxc7EPGrabH4vs1QaAuYZEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYylv167MN8BGjl81KhU8q7Le0Fb45cEXf7AHT3ISxc7EPGrabH4vs1QaAuYZEALw_wcB              | RESISTOR                      |
| R2, R3, R4, R5, R14                         | CFR-25JR-52-1K     | 5  | $0.10  | $0.50   | https://www.digikey.com/en/products/detail/yageo/CFR-25JR-52-1K/18092166?utm_adgroup=Yageo&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Supplier_Yageo&utm_term=&utm_content=Yageo&utm_id=go_cmp-17816160916_adg-_ad-__dev-c_ext-_prd-18092166_sig-Cj0KCQiAhomtBhDgARIsABcaYynZhHMzQfdofHTrnMhU_GUFQtqkCHr_O2qaLOR8j6f-ZsxmK58jjVAaAmv8EALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYynZhHMzQfdofHTrnMhU_GUFQtqkCHr_O2qaLOR8j6f-ZsxmK58jjVAaAmv8EALw_wcB               | RESISTOR                      |
| R7                                          | MFR-25FTE52-1K8    | 1  | $0.10  | $0.10   | https://www.digikey.com/en/products/detail/yageo/MFR-25FTE52-1K8/13921251?utm_adgroup=Yageo&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Supplier_Yageo&utm_term=&utm_content=Yageo&utm_id=go_cmp-17816160916_adg-_ad-__dev-c_ext-_prd-13921251_sig-Cj0KCQiAhomtBhDgARIsABcaYynzbbElS3ahAf8iaUilgwYoCFavarOSHqhMl7SDVOsJDRialToYJHwaArDMEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYynzbbElS3ahAf8iaUilgwYoCFavarOSHqhMl7SDVOsJDRialToYJHwaArDMEALw_wcB              | RESISTOR                      |
| C8                                          | R82DC3220AA60K     | 1  | $0.30  | $0.30   | https://www.digikey.com/en/products/detail/kemet/R82DC3220AA60K/3724605?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-3724605_sig-CjwKCAiA0syqBhBxEiwAeNx9N0ao2pf-bKuVeFjdCwKmIjjntIXJMS-Gkpz0UHRPc3zWhTUWNEsEfBoCq8oQAvD_BwE&gclid=CjwKCAiA0syqBhBxEiwAeNx9N0ao2pf-bKuVeFjdCwKmIjjntIXJMS-Gkpz0UHRPc3zWhTUWNEsEfBoCq8oQAvD_BwE                      | CAPACITOR                     |
| C2                                          | UVZ1J221MPD1TD     | 1  | $0.43  | $0.43   | https://www.digikey.com/en/products/detail/nichicon/UPW1C221MPD/589524?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-589524_sig-CjwKCAiA0syqBhBxEiwAeNx9N1g5SkfiaveOzC7NQE8m0bNyhgNdqSVzxrXOem08MvoDiEoHogPiNhoCtXYQAvD_BwE&gclid=CjwKCAiA0syqBhBxEiwAeNx9N1g5SkfiaveOzC7NQE8m0bNyhgNdqSVzxrXOem08MvoDiEoHogPiNhoCtXYQAvD_BwE                        | POLARIZED CAPACITOR           |
| C5                                          | C322C223K5R5TA     | 1  | $0.35  | $0.35   | https://www.digikey.com/en/products/detail/kemet/C322C223K5R5TA/818127?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-818127_sig-Cj0KCQiAhomtBhDgARIsABcaYykcqTbKBDZecbtcTKALu1rOM7xsVOWzGP5uDZYN74gmmAKck9tGS50aAqP2EALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYykcqTbKBDZecbtcTKALu1rOM7xsVOWzGP5uDZYN74gmmAKck9tGS50aAqP2EALw_wcB         | CAPACITOR                     |
| C9                                          | C322C220K1G5TA     | 1  | $0.38  | $0.38   | https://www.digikey.com/en/products/detail/kemet/C322C220K1G5TA/3726154?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-3726154_sig-Cj0KCQiAhomtBhDgARIsABcaYymuWC_KefA5Fv_dsVJVaRGo5qszRL3zL-twCYEWoavCR7zx0Z_HdcEaApUvEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYymuWC_KefA5Fv_dsVJVaRGo5qszRL3zL-twCYEWoavCR7zx0Z_HdcEaApUvEALw_wcB       | CAPACITOR                     |
| ZD1, ZD2, ZD3, ZD4                          | 1N4749A            | 4  | $0.27  | $1.08   | https://www.mouser.com/ProductDetail/onsemi-Fairchild/1N4749A?qs=SSucg2PyLi7qNxqNmPQCIA%3D%3D                                                                                                                                                                                                                                                                                                                                                                                                  | DIODE                         |
| R13, R15                                    | CFR-25JR-52-3K     | 2  | $0.10  | $0.20   | https://www.digikey.com/en/products/detail/yageo/CFR-25JR-52-3K/18092112?utm_adgroup=General&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Zombie%20SKUs&utm_term=&utm_content=General&utm_id=go_cmp-17815035045_adg-_ad-__dev-c_ext-_prd-18092112_sig-Cj0KCQiAhomtBhDgARIsABcaYymIl5PemyBTPia79KxzhMCy1-OvlnuQWemeLCRLb1-Z-c7stlstPsEaAplDEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYymIl5PemyBTPia79KxzhMCy1-OvlnuQWemeLCRLb1-Z-c7stlstPsEaAplDEALw_wcB    | RESISTOR                      |
| R6                                          | MFR-25FRF52-3K3    | 1  | $0.10  | $0.10   | https://www.digikey.com/en/products/detail/yageo/MFR-25FRF52-3K3/13921912?utm_adgroup=Yageo&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Supplier_Yageo&utm_term=&utm_content=Yageo&utm_id=go_cmp-17816160916_adg-_ad-__dev-c_ext-_prd-13921912_sig-Cj0KCQiAhomtBhDgARIsABcaYyk-xsdjMIZDG-4LDa5P90b3HFgp4L4H7pwZe7vXV6_3Urxi8nadcUYaArHyEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYyk-xsdjMIZDG-4LDa5P90b3HFgp4L4H7pwZe7vXV6_3Urxi8nadcUYaArHyEALw_wcB              | RESISTOR                      |
| R8, R9                                      | CF14JT470R         | 2  | $0.10  | $0.20   | https://www.digikey.com/en/products/detail/stackpole-electronics-inc/CF14JT470R/1830342?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_High%20ROAS%20Categories&utm_term=&utm_content=&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYym_8dMCauebKChVbe4kFjthdqaPcwE-jAvWg8p-koAKuvfc5hfTYQ0aAqOhEALw_wcB                                                                                                                                                     | RESISTOR                      |
| C1                                          | R82DC3470SH60J     | 1  | $0.40  | $0.40   | https://www.digikey.com/en/products/detail/kemet/R82DC3470SH60J/5810122                                                                                                                                                                                                                                                                                                                                                                                                                        | CAPACITOR                     |
| R10                                         | CFR-25JR-52-4K7    | 1  | $0.10  | $0.10   | https://www.digikey.com/en/products/detail/yageo/CFR-25JR-52-4K7/18092118?utm_adgroup=Yageo&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Supplier_Yageo&utm_term=&utm_content=Yageo&utm_id=go_cmp-17816160916_adg-_ad-__dev-c_ext-_prd-18092118_sig-Cj0KCQiAhomtBhDgARIsABcaYylgeP9ivwoRs4vg_EJxG42icwg99Mt9Pu2gYm3L1UpeVloscGaeMtQaAvPhEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYylgeP9ivwoRs4vg_EJxG42icwg99Mt9Pu2gYm3L1UpeVloscGaeMtQaAvPhEALw_wcB              | RESISTOR                      |
| C2                                          | C0805X474J5RACAUTO | 1  | $0.90  | $0.90   | https://www.digikey.com/en/products/detail/kemet/C0805X474J5RACAUTO/10232891?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-10232891_sig-Cj0KCQiA3uGqBhDdARIsAFeJ5r0dSn-Iyuwgx6CuWPr4I69GB2wDCAKa5FiMK7BaxR5TlF3vQ8EpFkkaAjhKEALw_wcB&gad_source=1&gclid=Cj0KCQiA3uGqBhDdARIsAFeJ5r0dSn-Iyuwgx6CuWPr4I69GB2wDCAKa5FiMK7BaxR5TlF3vQ8EpFkkaAjhKEALw_wcB | CAPACITOR                     |
| U1                                          | LM78M05CDT/NOPB    | 1  | $2.03  | $2.03   | https://www.mouser.com/ProductDetail/Texas-Instruments/LM78M05CT?qs=QbsRYf82W3HpWvvetGb2IA%3D%3D                                                                                                                                                                                                                                                                                                                                                                                               | Positive VOLTAGE REGULATOR    |
| T1, T2, T3, T4, T5, T6, T7, T8, T9          | BC557              | 9  | $0.33  | $2.97   | https://www.mouser.com/ProductDetail/onsemi-Fairchild/BC557BTA?qs=Lnpu0ExxCB4xDNL%2Fw990%2FQ%3D%3D                                                                                                                                                                                                                                                                                                                                                                                             | PNP Transistror               |
| T10                                         | BC546ABU           | 1  | $0.33  | $0.33   | https://www.digikey.com/en/products/detail/onsemi/BC546ABU/975536?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-975536_sig-Cj0KCQiAhomtBhDgARIsABcaYymnZ-DPsG4T_b-51M4OXSkqFHugYgYkQAx2GPOWF_36xjg3fn_dL1waAqmLEALw_wcB&gad_source=1&gclid=Cj0KCQiAhomtBhDgARIsABcaYymnZ-DPsG4T_b-51M4OXSkqFHugYgYkQAx2GPOWF_36xjg3fn_dL1waAqmLEALw_wcB              | NPN Transistror               |
| IC8                                         | LM211P             | 1  | $0.71  | $0.71   | https://www.digikey.com/en/products/detail/texas-instruments/LM211P/372670                                                                                                                                                                                                                                                                                                                                                                                                                     | COMPARATOR                    |
| NEON1, NEON2                                | A1C                | 2  | $0.80  | $1.60   | https://www.digikey.com/en/products/detail/visual-communications-company---vcc/A1C/3151336?utm_adgroup=&utm_source=google&utm_medium=cpc&utm_campaign=PMax%20Shopping_Product_Medium%20ROAS%20Categories&utm_term=&utm_content=&utm_id=go_cmp-20223376311_adg-_ad-__dev-c_ext-_prd-3151336_sig-CjwKCAiA0syqBhBxEiwAeNx9N5iiEtW34szprRSYn2cHEsJPHIVmr3UFYwXw14E8r5El--5am-OnRxoCV4UQAvD_BwE&gclid=CjwKCAiA0syqBhBxEiwAeNx9N5iiEtW34szprRSYn2cHEsJPHIVmr3UFYwXw14E8r5El--5am-OnRxoCV4UQAvD_BwE   | Neon Bulb Indicator           |
| VR1                                         | TL431CLPRAG        | 1  | $0.43  | $0.43   | https://www.mouser.com/ProductDetail/onsemi/TL431CLPRAG?qs=xZq1yRCsb1dwKrivuQd0Aw%3D%3D&mgh=1&gad_source=1&gclid=CjwKCAiA44OtBhAOEiwAj4gpOfAlAAZZ2Obz5e_cSCPH7ME0iQ1KtVo5RFvH2lFfu49Edozvfy_cgxoCxBcQAvD_BwE                                                                                                                                                                                                                                                                                   | VOLTAGE REGULATOR             |
| R18, R20, R22, R26, R28, R30                | MFR4-1K0FI         | 6  | $0.46  | $2.76   | https://www.newark.com/tt-electronics-welwyn/mfr4-1k0fi/metal-film-resistor-1kohm-500mw/dp/97K4809                                                                                                                                                                                                                                                                                                                                                                                             | DIP SWITCH Resistor           |
| R16, R17, R19, R21, R23, R24, R25, R29, R31 | MF50 2K            | 9  | $0.31  | $2.79   | https://www.newark.com/multicomp-pro/mf50-2k/res-2k-500mw-axial-metal-film/dp/38K5177?MER=sy-me-pd-mi-alte                                                                                                                                                                                                                                                                                                                                                                                     | DIP SWITCH Resistor           |
| SW1                                         | MCNDI-08S          | 1  | $1.62  | $1.62   | https://www.newark.com/multicomp/mcndi-08s/switch-dip-8-position-spst-raised/dp/97K4452                                                                                                                                                                                                                                                                                                                                                                                                        | DIP SWITCH                    |
| Total                                       |                    | 69 |        | $33.36  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                               |


*Note: The prices listed above do not include sales tax or shipping costs.*

# References
1. “Dual Channel Inductive Loop Vehicle Detector,” Elektronika.ba, https://www.elektronika.ba/868/dual-channel-inductive-loop-vehicle-detector/ (accessed Jan. 11, 2024). 
